<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Zebra-checkins] zebra/src/java/fulcrum-security-hivemind/src/main/java/org/apache/fulcrum/security PermissionManager.java,1.1,1.2 RoleManager.java,1.1,1.2 UserManager.java,1.4,1.5 GroupManager.java,1.1,1.2
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/zebra-checkins/2006-March/index.html" >
   <LINK REL="made" HREF="mailto:zebra-checkins%40lists.berlios.de?Subject=Re%3A%20%5BZebra-checkins%5D%20zebra/src/java/fulcrum-security-hivemind/src/main/java/org/apache/fulcrum/security%20PermissionManager.java%2C1.1%2C1.2%20RoleManager.java%2C1.1%2C1.2%20UserManager.java%2C1.4%2C1.5%20GroupManager.java%2C1.1%2C1.2&In-Reply-To=%3C200603181718.k2IHIHb18118%40bat.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000301.html">
   <LINK REL="Next"  HREF="000295.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Zebra-checkins] zebra/src/java/fulcrum-security-hivemind/src/main/java/org/apache/fulcrum/security PermissionManager.java,1.1,1.2 RoleManager.java,1.1,1.2 UserManager.java,1.4,1.5 GroupManager.java,1.1,1.2</H1>
    <B>biggus_richus</B> 
    <A HREF="mailto:zebra-checkins%40lists.berlios.de?Subject=Re%3A%20%5BZebra-checkins%5D%20zebra/src/java/fulcrum-security-hivemind/src/main/java/org/apache/fulcrum/security%20PermissionManager.java%2C1.1%2C1.2%20RoleManager.java%2C1.1%2C1.2%20UserManager.java%2C1.4%2C1.5%20GroupManager.java%2C1.1%2C1.2&In-Reply-To=%3C200603181718.k2IHIHb18118%40bat.berlios.de%3E"
       TITLE="[Zebra-checkins] zebra/src/java/fulcrum-security-hivemind/src/main/java/org/apache/fulcrum/security PermissionManager.java,1.1,1.2 RoleManager.java,1.1,1.2 UserManager.java,1.4,1.5 GroupManager.java,1.1,1.2">nobody at sheep.berlios.de
       </A><BR>
    <I>Sat Mar 18 18:18:17 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000301.html">[Zebra-checkins] zebra/src/java/fulcrum-security-hivemind/.settings org.eclipse.wst.common.project.facet.core.xml,NONE,1.1 .component,NONE,1.1 org.eclipse.jdt.core.prefs,1.2,1.3
</A></li>
        <LI>Next message: <A HREF="000295.html">[Zebra-checkins] zebra/src/java/fulcrum-security-hivemind/src/main/java/org/apache/fulcrum/security/authenticator CryptoAuthenticator.java,1.3,1.4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#341">[ date ]</a>
              <a href="thread.html#341">[ thread ]</a>
              <a href="subject.html#341">[ subject ]</a>
              <a href="author.html#341">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Update of /cvsroot/zebra/zebra/src/java/fulcrum-security-hivemind/src/main/java/org/apache/fulcrum/security
In directory sheep:/tmp/cvs-serv18372/src/main/java/org/apache/fulcrum/security

Modified Files:
	PermissionManager.java RoleManager.java UserManager.java 
	GroupManager.java 
Log Message:
Added functionality to disable users

Index: PermissionManager.java
===================================================================
RCS file: /cvsroot/zebra/zebra/src/java/fulcrum-security-hivemind/src/main/java/org/apache/fulcrum/security/PermissionManager.java,v
retrieving revision 1.1
retrieving revision 1.2
diff -C2 -d -r1.1 -r1.2
*** PermissionManager.java	14 Nov 2005 18:20:47 -0000	1.1
--- PermissionManager.java	18 Mar 2006 16:19:38 -0000	1.2
***************
*** 1,3 ****
--- 1,4 ----
  package org.apache.fulcrum.security;
+ 
  /*
   *  Copyright 2001-2004 The Apache Software Foundation
***************
*** 17,145 ****
  import org.apache.fulcrum.security.entity.Permission;
  import org.apache.fulcrum.security.util.DataBackendException;
  import org.apache.fulcrum.security.util.EntityExistsException;
  import org.apache.fulcrum.security.util.PermissionSet;
  import org.apache.fulcrum.security.util.UnknownEntityException;
  /**
!  * An GroupManager performs {@link org.apache.fulcrum.security.entity.Group} objects
!  * related tasks on behalf of the {@link org.apache.fulcrum.security.BaseSecurityService}.
!  *
   * The responsibilities of this class include loading data of an group from the
!  * storage and putting them into the {@link org.apache.fulcrum.security.entity.Group} objects,
!  * saving those data to the permanent storage.
!  *
   * @author &lt;a href=&quot;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/zebra-checkins">epugh at upstate.com</A>&quot;&gt;Eric Pugh&lt;/a&gt;
   * @version $Id$
   */
! public interface PermissionManager
  
- {
- 	
-     /**
-        * Construct a blank Permission object.
-        *
-        * This method calls getPermissionClass, and then creates a new object using
-        * the default constructor.
-        *
-        * @return an object implementing Permission interface.
-        * @throws UnknownEntityException if the object could not be instantiated.
-        */
-     Permission getPermissionInstance() throws UnknownEntityException;
-     /**
-      * Construct a blank Permission object.
-      *
-      * This method calls getPermissionClass, and then creates a new object using
-      * the default constructor.
-      *
-      * @param permName The name of the Permission
-      *
-      * @return an object implementing Permission interface.
-      * @throws UnknownEntityException if the object could not be instantiated.
-      */
-     Permission getPermissionInstance(String permName) throws UnknownEntityException;
-  
-     /**
-     	 * Retrieve a Permission object with specified name.
-     	 *
-     	 * @param name the name of the Permission.
-     	 * @return an object representing the Permission with specified name.
-     	 * @throws DataBackendException if there was an error accessing the data
-     	 *         backend.
-     	 * @throws UnknownEntityException if the permission does not exist.
-     	 */
-     Permission getPermissionByName(String name) throws DataBackendException, UnknownEntityException;
-     /**
-     	* Retrieve a Permission object with specified Id.
-     	*
-     	* @param name the name of the Permission.
-     	*
-     	* @return an object representing the Permission with specified name.
-     	*
-     	* @exception UnknownEntityException if the permission does not
-     	*            exist in the database.
-     	* @exception DataBackendException if there is a problem accessing the
-     	*            storage.
-     	*/
-     Permission getPermissionById(Object id) throws DataBackendException, UnknownEntityException;
-     /**
-        * Retrieves all permissions defined in the system.
-        *
-        * @return the names of all permissions defined in the system.
-        * @throws DataBackendException if there was an error accessing the data
-        *         backend.
-        */
-     PermissionSet getAllPermissions() throws DataBackendException;
-     
-     /**
-     	* Creates a new permission with specified attributes.
-     	*
-     	* @param permission The object describing the permission to be created.
-     	* @return the new Permission object.
-     	* @throws DataBackendException if there was an error accessing the data
-     	*         backend.
-     	* @throws EntityExistsException if the permission already exists.
-     	*/
-     Permission addPermission(Permission permission) throws DataBackendException, EntityExistsException;
-     /**
-     	 * Removes a Permission from the system.
-     	 *
-     	 * @param permission The object describing the permission to be removed.
-     	 * @throws DataBackendException if there was an error accessing the data
-     	 *         backend.
-     	 * @throws UnknownEntityException if the permission does not exist.
-     	 */
-     void removePermission(Permission permission) throws DataBackendException, UnknownEntityException;
-     /**
-        * Renames an existing Permission.
-        *
-        * @param permission The object describing the permission to be renamed.
-        * @param name the new name for the permission.
-        * @throws DataBackendException if there was an error accessing the data
-        *         backend.
-        * @throws UnknownEntityException if the permission does not exist.
-        */
-     void renamePermission(Permission permission, String name) throws DataBackendException, UnknownEntityException;
-     
  	/**
! 		   * Determines if the &lt;code&gt;Permission&lt;/code&gt; exists in the security system.
! 		   *
! 		   * @param permission a &lt;code&gt;Permission&lt;/code&gt; value
! 		   * @return true if the permission exists in the system, false otherwise
! 		   * @throws DataBackendException when more than one Permission with
! 		   *         the same name exists.
! 		   * @throws Exception A generic exception.
! 		   */
! 	 boolean checkExists(Permission permission) throws DataBackendException;    
! 	 
! 		/**
! 		 * Determines if a &lt;code&gt;Permission&lt;/code&gt; exists in the security
! 		 * system with the specified name.
! 		 * 
! 		 * @param permissionName the name of a &lt;code&gt;Permission&lt;/code&gt; to check
! 		 * @return true if the permission exists in the system, false otherwise
! 		 * @throws DataBackendException
! 		 *             when more than one Permission with the same name exists.
! 		 * @throws Exception
! 		 *             A generic exception.
! 		 */
! 		boolean checkExists(String permissionName) throws DataBackendException;	 
  }
--- 18,198 ----
  import org.apache.fulcrum.security.entity.Permission;
  import org.apache.fulcrum.security.util.DataBackendException;
+ import org.apache.fulcrum.security.util.EntityDisabledException;
  import org.apache.fulcrum.security.util.EntityExistsException;
  import org.apache.fulcrum.security.util.PermissionSet;
  import org.apache.fulcrum.security.util.UnknownEntityException;
+ 
  /**
!  * An GroupManager performs {@link org.apache.fulcrum.security.entity.Group}
!  * objects related tasks on behalf of the
!  * {@link org.apache.fulcrum.security.BaseSecurityService}.
!  * 
   * The responsibilities of this class include loading data of an group from the
!  * storage and putting them into the
!  * {@link org.apache.fulcrum.security.entity.Group} objects, saving those data
!  * to the permanent storage.
!  * 
   * @author &lt;a href=&quot;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/zebra-checkins">epugh at upstate.com</A>&quot;&gt;Eric Pugh&lt;/a&gt;
   * @version $Id$
   */
! public interface PermissionManager {
  
  	/**
! 	 * Construct a blank Permission object.
! 	 * 
! 	 * This method calls getPermissionClass, and then creates a new object using
! 	 * the default constructor.
! 	 * 
! 	 * @return an object implementing Permission interface.
! 	 * @throws UnknownEntityException
! 	 *             if the object could not be instantiated.
! 	 */
! 	Permission getPermissionInstance() throws UnknownEntityException;
! 
! 	/**
! 	 * Construct a blank Permission object.
! 	 * 
! 	 * This method calls getPermissionClass, and then creates a new object using
! 	 * the default constructor.
! 	 * 
! 	 * @param permName
! 	 *            The name of the Permission
! 	 * 
! 	 * @return an object implementing Permission interface.
! 	 * @throws UnknownEntityException
! 	 *             if the object could not be instantiated.
! 	 */
! 	Permission getPermissionInstance(String permName)
! 			throws UnknownEntityException;
! 
! 	/**
! 	 * Retrieve a Permission object with specified name.
! 	 * 
! 	 * @param name
! 	 *            the name of the Permission.
! 	 * @return an object representing the Permission with specified name.
! 	 * @throws DataBackendException
! 	 *             if there was an error accessing the data backend.
! 	 * @throws UnknownEntityException
! 	 *             if the permission does not exist.
! 	 */
! 	Permission getPermissionByName(String name) throws DataBackendException,
! 			UnknownEntityException, EntityDisabledException;
! 
! 	/**
! 	 * Retrieve a Permission object with specified Id.
! 	 * 
! 	 * @param name
! 	 *            the name of the Permission.
! 	 * 
! 	 * @return an object representing the Permission with specified name.
! 	 * 
! 	 * @exception UnknownEntityException
! 	 *                if the permission does not exist in the database.
! 	 * @exception DataBackendException
! 	 *                if there is a problem accessing the storage.
! 	 */
! 	Permission getPermissionById(Object id) throws DataBackendException,
! 			UnknownEntityException, EntityDisabledException;
! 
! 	/**
! 	 * Retrieves all permissions defined in the system.
! 	 * 
! 	 * @return the names of all permissions defined in the system.
! 	 * @throws DataBackendException
! 	 *             if there was an error accessing the data backend.
! 	 */
! 	PermissionSet getAllPermissions() throws DataBackendException;
! 
! 	/**
! 	 * Retrieves all non-disabled permissions defined in the system.
! 	 * 
! 	 * @return the names of all non-disabled permissions defined in the system.
! 	 * @throws DataBackendException
! 	 *             if there was an error accessing the data backend.
! 	 */
! 	PermissionSet getPermissions() throws DataBackendException;
! 
! 	/**
! 	 * Creates a new permission with specified attributes.
! 	 * 
! 	 * @param permission
! 	 *            The object describing the permission to be created.
! 	 * @return the new Permission object.
! 	 * @throws DataBackendException
! 	 *             if there was an error accessing the data backend.
! 	 * @throws EntityExistsException
! 	 *             if the permission already exists.
! 	 */
! 	Permission addPermission(Permission permission)
! 			throws DataBackendException, EntityExistsException;
! 
! 	/**
! 	 * Removes a Permission from the system.
! 	 * 
! 	 * @param permission
! 	 *            The object describing the permission to be removed.
! 	 * @throws DataBackendException
! 	 *             if there was an error accessing the data backend.
! 	 * @throws UnknownEntityException
! 	 *             if the permission does not exist.
! 	 */
! 	void removePermission(Permission permission) throws DataBackendException,
! 			UnknownEntityException;
! 
! 	/**
! 	 * Disables a Permission (effectively rendering it as removed).
! 	 * 
! 	 * @param permission
! 	 *            The object describing the permission to be removed.
! 	 * @throws DataBackendException
! 	 *             if there was an error accessing the data backend.
! 	 * @throws UnknownEntityException
! 	 *             if the permission does not exist.
! 	 */
! 	void disablePermission(Permission permission) throws DataBackendException,
! 			UnknownEntityException;
! 
! 	/**
! 	 * Renames an existing Permission.
! 	 * 
! 	 * @param permission
! 	 *            The object describing the permission to be renamed.
! 	 * @param name
! 	 *            the new name for the permission.
! 	 * @throws DataBackendException
! 	 *             if there was an error accessing the data backend.
! 	 * @throws UnknownEntityException
! 	 *             if the permission does not exist.
! 	 */
! 	void renamePermission(Permission permission, String name)
! 			throws DataBackendException, UnknownEntityException;
! 
! 	/**
! 	 * Determines if the &lt;code&gt;Permission&lt;/code&gt; exists in the security
! 	 * system.
! 	 * 
! 	 * @param permission
! 	 *            a &lt;code&gt;Permission&lt;/code&gt; value
! 	 * @return true if the permission exists in the system, false otherwise
! 	 * @throws DataBackendException
! 	 *             when more than one Permission with the same name exists.
! 	 * @throws Exception
! 	 *             A generic exception.
! 	 */
! 	boolean checkExists(Permission permission) throws DataBackendException;
! 
! 	/**
! 	 * Determines if a &lt;code&gt;Permission&lt;/code&gt; exists in the security system
! 	 * with the specified name.
! 	 * 
! 	 * @param permissionName
! 	 *            the name of a &lt;code&gt;Permission&lt;/code&gt; to check
! 	 * @return true if the permission exists in the system, false otherwise
! 	 * @throws DataBackendException
! 	 *             when more than one Permission with the same name exists.
! 	 * @throws Exception
! 	 *             A generic exception.
! 	 */
! 	boolean checkExists(String permissionName) throws DataBackendException;
  }

Index: RoleManager.java
===================================================================
RCS file: /cvsroot/zebra/zebra/src/java/fulcrum-security-hivemind/src/main/java/org/apache/fulcrum/security/RoleManager.java,v
retrieving revision 1.1
retrieving revision 1.2
diff -C2 -d -r1.1 -r1.2
*** RoleManager.java	14 Nov 2005 18:20:47 -0000	1.1
--- RoleManager.java	18 Mar 2006 16:19:38 -0000	1.2
***************
*** 1,3 ****
--- 1,4 ----
  package org.apache.fulcrum.security;
+ 
  /*
   *  Copyright 2001-2004 The Apache Software Foundation
***************
*** 17,134 ****
  import org.apache.fulcrum.security.entity.Role;
  import org.apache.fulcrum.security.util.DataBackendException;
  import org.apache.fulcrum.security.util.EntityExistsException;
  import org.apache.fulcrum.security.util.RoleSet;
  import org.apache.fulcrum.security.util.UnknownEntityException;
  /**
!  * An GroupManager performs {@link org.apache.fulcrum.security.entity.Group} objects
!  * related tasks on behalf of the {@link org.apache.fulcrum.security.BaseSecurityService}.
!  *
   * The responsibilities of this class include loading data of an group from the
!  * storage and putting them into the {@link org.apache.fulcrum.security.entity.Group} objects,
!  * saving those data to the permanent storage.
!  *
   * @author &lt;a href=&quot;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/zebra-checkins">epugh at upstate.com</A>&quot;&gt;Eric Pugh&lt;/a&gt;
   * @version $Id$
   */
! public interface RoleManager 
! {
!     /** Avalon role - used to id the component within the manager */
!     String ROLE = RoleManager.class.getName();
!     /**
!      * Construct a blank Role object.
!      *
!      * This method calls getRoleClass, and then creates a new object using
!      * the default constructor.
!      *
!      * @return an object implementing Role interface.
!      * @throws DataBackendException if the object could not be instantiated.
!      */
!     public Role getRoleInstance() throws DataBackendException;
!     /**
!     * Construct a blank Role object.
!     *
!     * This method calls getRoleClass, and then creates a new object using
!     * the default constructor.
!     *
!     * @param roleName The name of the Role
!     *
!     * @return an object implementing Role interface.
!     * @throws DataBackendException if the object could not be instantiated.
!     */
!     Role getRoleInstance(String roleName) throws DataBackendException;
!     
!     /**
  	 * Retrieve a Role object with specified name.
! 	 *
! 	 * @param name the name of the Role.
  	 * @return an object representing the Role with specified name.
! 	 * @throws DataBackendException if there was an error accessing the data
! 	 *         backend.
! 	 * @throws UnknownEntityException if the role does not exist.
  	 */
!     Role getRoleByName(String name) throws DataBackendException, UnknownEntityException;
!     /**
!      * Retrieve a Role object with specified Id.
! 	 *
! 	 * @param name the name of the Role.
! 	 *
  	 * @return an object representing the Role with specified name.
! 	 *
! 	 * @exception UnknownEntityException if the permission does not
! 	 *            exist in the database.
! 	 * @exception DataBackendException if there is a problem accessing the
! 	 *            storage.
  	 */
!     Role getRoleById(Object id) throws DataBackendException, UnknownEntityException;
!     /**
!      * Retrieves all roles defined in the system.
!      *
!      * @return the names of all roles defined in the system.
!      * @throws DataBackendException if there was an error accessing the data
!      *         backend.
!      */
!     RoleSet getAllRoles() throws DataBackendException;
  
-     /**
-       * Creates a new role with specified attributes.
-       *
-       * @param role The object describing the role to be created.
-       * @return the new Role object.
-       * @throws DataBackendException if there was an error accessing the data
-       *         backend.
-       * @throws EntityExistsException if the role already exists.
-       */
-     Role addRole(Role role) throws DataBackendException, EntityExistsException;
-     /**
-      * Removes a Role from the system.
-     	*
-     	* @param role The object describing the role to be removed.
-     	* @throws DataBackendException if there was an error accessing the data
-     	*         backend.
-     	* @throws UnknownEntityException if the role does not exist.
-     	*/
-     void removeRole(Role role) throws DataBackendException, UnknownEntityException;
-     /**
-     	* Renames an existing Role.
-     	*
-     	* @param role The object describing the role to be renamed.
-     	* @param name the new name for the role.
-     	* @throws DataBackendException if there was an error accessing the data
-     	*         backend.
-     	* @throws UnknownEntityException if the role does not exist.
-     	*/
-     void renameRole(Role role, String name) throws DataBackendException, UnknownEntityException;
-  
-     /**
-     		   * Determines if the &lt;code&gt;Role&lt;/code&gt; exists in the security system.
-     		   *
-     		   * @param role a &lt;code&gt;Role&lt;/code&gt; value
-     		   * @return true if the role exists in the system, false otherwise
-     		   * @throws DataBackendException when more than one Role with
-     		   *         the same name exists.
-     		   * @throws Exception A generic exception.
-     		   */
-     boolean checkExists(Role role) throws DataBackendException;
-     
  	/**
  	 * Determines if a &lt;code&gt;Role&lt;/code&gt; exists in the security system with
--- 18,185 ----
  import org.apache.fulcrum.security.entity.Role;
  import org.apache.fulcrum.security.util.DataBackendException;
+ import org.apache.fulcrum.security.util.EntityDisabledException;
  import org.apache.fulcrum.security.util.EntityExistsException;
  import org.apache.fulcrum.security.util.RoleSet;
  import org.apache.fulcrum.security.util.UnknownEntityException;
+ 
  /**
!  * An GroupManager performs {@link org.apache.fulcrum.security.entity.Group}
!  * objects related tasks on behalf of the
!  * {@link org.apache.fulcrum.security.BaseSecurityService}.
!  * 
   * The responsibilities of this class include loading data of an group from the
!  * storage and putting them into the
!  * {@link org.apache.fulcrum.security.entity.Group} objects, saving those data
!  * to the permanent storage.
!  * 
   * @author &lt;a href=&quot;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/zebra-checkins">epugh at upstate.com</A>&quot;&gt;Eric Pugh&lt;/a&gt;
   * @version $Id$
   */
! public interface RoleManager {
! 	/** Avalon role - used to id the component within the manager */
! 	String ROLE = RoleManager.class.getName();
! 
! 	/**
! 	 * Construct a blank Role object.
! 	 * 
! 	 * This method calls getRoleClass, and then creates a new object using the
! 	 * default constructor.
! 	 * 
! 	 * @return an object implementing Role interface.
! 	 * @throws DataBackendException
! 	 *             if the object could not be instantiated.
! 	 */
! 	public Role getRoleInstance() throws DataBackendException;
! 
! 	/**
! 	 * Construct a blank Role object.
! 	 * 
! 	 * This method calls getRoleClass, and then creates a new object using the
! 	 * default constructor.
! 	 * 
! 	 * @param roleName
! 	 *            The name of the Role
! 	 * 
! 	 * @return an object implementing Role interface.
! 	 * @throws DataBackendException
! 	 *             if the object could not be instantiated.
! 	 */
! 	Role getRoleInstance(String roleName) throws DataBackendException;
! 
! 	/**
  	 * Retrieve a Role object with specified name.
! 	 * 
! 	 * @param name
! 	 *            the name of the Role.
  	 * @return an object representing the Role with specified name.
! 	 * @throws DataBackendException
! 	 *             if there was an error accessing the data backend.
! 	 * @throws UnknownEntityException
! 	 *             if the role does not exist.
  	 */
! 	Role getRoleByName(String name) throws DataBackendException,
! 			UnknownEntityException, EntityDisabledException;
! 
! 	/**
! 	 * Retrieve a Role object with specified Id.
! 	 * 
! 	 * @param name
! 	 *            the name of the Role.
! 	 * 
  	 * @return an object representing the Role with specified name.
! 	 * 
! 	 * @exception UnknownEntityException
! 	 *                if the permission does not exist in the database.
! 	 * @exception DataBackendException
! 	 *                if there is a problem accessing the storage.
  	 */
! 	Role getRoleById(Object id) throws DataBackendException,
! 			UnknownEntityException, EntityDisabledException;
! 
! 	/**
! 	 * Retrieves all roles defined in the system.
! 	 * 
! 	 * @return the names of all roles defined in the system.
! 	 * @throws DataBackendException
! 	 *             if there was an error accessing the data backend.
! 	 */
! 	RoleSet getAllRoles() throws DataBackendException;
! 
! 	/**
! 	 * Retrieves all non-disabled roles defined in the system.
! 	 * 
! 	 * @return the names of all non-disabled roles defined in the system.
! 	 * @throws DataBackendException
! 	 *             if there was an error accessing the data backend.
! 	 */
! 	RoleSet getRoles() throws DataBackendException;
! 
! 	/**
! 	 * Creates a new role with specified attributes.
! 	 * 
! 	 * @param role
! 	 *            The object describing the role to be created.
! 	 * @return the new Role object.
! 	 * @throws DataBackendException
! 	 *             if there was an error accessing the data backend.
! 	 * @throws EntityExistsException
! 	 *             if the role already exists.
! 	 */
! 	Role addRole(Role role) throws DataBackendException, EntityExistsException;
! 
! 	/**
! 	 * Removes a Role from the system.
! 	 * 
! 	 * @param role
! 	 *            The object describing the role to be removed.
! 	 * @throws DataBackendException
! 	 *             if there was an error accessing the data backend.
! 	 * @throws UnknownEntityException
! 	 *             if the role does not exist.
! 	 */
! 	void removeRole(Role role) throws DataBackendException,
! 			UnknownEntityException;
! 
! 	/**
! 	 * Disables a Role (effectively rendering it as removed).
! 	 * 
! 	 * @param role
! 	 *            The object describing the role to be disabled.
! 	 * @throws DataBackendException
! 	 *             if there was an error accessing the data backend.
! 	 * @throws UnknownEntityException
! 	 *             if the role does not exist.
! 	 */
! 	void disableRole(Role role) throws DataBackendException,
! 			UnknownEntityException;
! 
! 	/**
! 	 * Renames an existing Role.
! 	 * 
! 	 * @param role
! 	 *            The object describing the role to be renamed.
! 	 * @param name
! 	 *            the new name for the role.
! 	 * @throws DataBackendException
! 	 *             if there was an error accessing the data backend.
! 	 * @throws UnknownEntityException
! 	 *             if the role does not exist.
! 	 */
! 	void renameRole(Role role, String name) throws DataBackendException,
! 			UnknownEntityException;
! 
! 	/**
! 	 * Determines if the &lt;code&gt;Role&lt;/code&gt; exists in the security system.
! 	 * 
! 	 * @param role
! 	 *            a &lt;code&gt;Role&lt;/code&gt; value
! 	 * @return true if the role exists in the system, false otherwise
! 	 * @throws DataBackendException
! 	 *             when more than one Role with the same name exists.
! 	 * @throws Exception
! 	 *             A generic exception.
! 	 */
! 	boolean checkExists(Role role) throws DataBackendException;
  
  	/**
  	 * Determines if a &lt;code&gt;Role&lt;/code&gt; exists in the security system with
***************
*** 143,146 ****
  	 *             A generic exception.
  	 */
! 	boolean checkExists(String roleName) throws DataBackendException;    
  }
--- 194,197 ----
  	 *             A generic exception.
  	 */
! 	boolean checkExists(String roleName) throws DataBackendException;
  }

Index: UserManager.java
===================================================================
RCS file: /cvsroot/zebra/zebra/src/java/fulcrum-security-hivemind/src/main/java/org/apache/fulcrum/security/UserManager.java,v
retrieving revision 1.4
retrieving revision 1.5
diff -C2 -d -r1.4 -r1.5
*** UserManager.java	24 Jan 2006 11:38:54 -0000	1.4
--- UserManager.java	18 Mar 2006 16:19:38 -0000	1.5
***************
*** 1,3 ****
--- 1,4 ----
  package org.apache.fulcrum.security;
+ 
  /*
   *  Copyright 2001-2004 The Apache Software Foundation
***************
*** 19,22 ****
--- 20,24 ----
  import org.apache.fulcrum.security.entity.User;
  import org.apache.fulcrum.security.util.DataBackendException;
+ import org.apache.fulcrum.security.util.EntityDisabledException;
  import org.apache.fulcrum.security.util.EntityExistsException;
  import org.apache.fulcrum.security.util.PasswordExpiredException;
***************
*** 26,251 ****
  import org.apache.fulcrum.security.util.UserLockedException;
  import org.apache.fulcrum.security.util.UserSet;
  /**
!  * An UserManager performs {@link org.apache.fulcrum.security.entity.User} objects
!  * related tasks on behalf of the {@link org.apache.fulcrum.security.BaseSecurityService}.
!  *
   * The responsibilities of this class include loading data of an user from the
!  * storage and putting them into the {@link org.apache.fulcrum.security.entity.User} objects,
!  * saving those data to the permanent storage, and authenticating users.
!  *
   * @author &lt;a href=&quot;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/zebra-checkins">epugh at upstate.com</A>&quot;&gt;Eric Pugh&lt;/a&gt;
   * @author &lt;a href=&quot;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/zebra-checkins">Rafal.Krzewski at e-point.pl</A>&quot;&gt;Rafal Krzewski&lt;/a&gt;
   * @version $Id$
   */
! public interface UserManager 
! {
!     /**
!      * Construct a blank User object.
!      *
!      * This method calls getUserClass, and then creates a new object using
!      * the default constructor.
!      *
!      * @return an object implementing User interface.
!      * @throws DataBackendException if the object could not be instantiated.
!      */
!     User getUserInstance() throws DataBackendException;
!     /**
!      * Construct a blank User object.
!      *
!      * This method calls getUserClass, and then creates a new object using
!      * the default constructor.
!      *
!      * @param userName The name of the user.
!      *
!      * @return an object implementing User interface.
!      * @throws DataBackendException if the object could not be instantiated.
!      */
!     User getUserInstance(String userName) throws DataBackendException;
!  
  	/**
!    * Determines if the &lt;code&gt;User&lt;/code&gt; exists in the security system.
!    *
!    * @param role a &lt;code&gt;User&lt;/code&gt; value
!    * @return true if the user exists in the system, false otherwise
!    * @throws DataBackendException when more than one user with
!    *         the same name exists.
!    * @throws Exception A generic exception.
!    */
! 	boolean checkExists(User user) throws DataBackendException; 
!     /**
!      * Check whether a specified user's account exists.
!      *
!      * The login name is used for looking up the account.
!      *
!      * @param userName The name of the user to be checked.
!      * @return true if the specified account exists
!      * @throws DataBackendException if there was an error accessing the data backend.
!      */
!     boolean checkExists(String userName) throws DataBackendException;
!     /**
!       * Retrieve a user from persistent storage using username as the
!       * key.
!       *
!       * @param username the name of the user.
!       * @return an User object.
!       * @exception UnknownEntityException if the user's record does not
!       *            exist in the database.
!       * @exception DataBackendException if there is a problem accessing the
!       *            storage.
!       */
!     User getUser(String username) throws UnknownEntityException, DataBackendException;
  
!     /**
!      * Retrieve a user from persistent storage using the id as the
!      * key.
!      *
!      * @param id the id of the user.
!      * @return an User object.
!      * @exception UnknownEntityException if the user's record does not
!      *            exist in the database.
!      * @exception DataBackendException if there is a problem accessing the
!      *            storage.
!      */
!    User getUserById(Object id) throws UnknownEntityException, DataBackendException;    
!     /**
!      * Retrieve a user from persistent storage using username as the
!      * key, and authenticate the user. The implementation may chose
!      * to authenticate to the server as the user whose data is being
!      * retrieved.
!      *
!      * @param username the name of the user.
!      * @param password the user supplied password.
!      * @return an User object.
!      * @exception PasswordMismatchException if the supplied password was
!      *            incorrect.
!      * @exception UnknownEntityException if the user's record does not
!      *            exist in the database.
!      * @exception DataBackendException if there is a problem accessing the
!      *            storage.
!      * @throws UserLockedException 
!      * @throws PasswordExpiredException 
!      */
!     User getUser(String username, String password)
!         throws PasswordMismatchException, UnknownEntityException,
! 			DataBackendException, UserLockedException, PasswordExpiredException;
  
  	/**
! 	   * Retrieves all users defined in the system.
! 	   *
! 	   * @return the names of all users defined in the system.
! 	   * @throws DataBackendException if there was an error accessing the data
! 	   *         backend.
! 	   */
! 	UserSet getAllUsers() throws DataBackendException;    
!     /**
!     * Saves User's data in the permanent storage. The user account is required
!     * to exist in the storage.
!     *
!     * @param user the user object to save
!     * @throws DataBackendException if there is a problem accessing the storage.
!     */
!     void saveUser(User user) throws DataBackendException;
!     /**
!      * Authenticate an User with the specified password. If authentication
!      * is successful the method returns nothing. If there are any problems,
!      * exception was thrown.
!      *
!      * @param user an User object to authenticate.
!      * @param password the user supplied password.
!      * @exception PasswordMismatchException if the supplied password was
!      *            incorrect.
!      * @exception UnknownEntityException if the user's record does not
!      *            exist in the database.
!      * @exception DataBackendException if there is a problem accessing the
!      *            storage.
!      * @throws UserLockedException 
!      * @throws PasswordExpiredException 
!      */
!     void authenticate(User user, String password)
!         throws PasswordMismatchException, UnknownEntityException, DataBackendException, UserLockedException;
!     /**
!      * Creates new user account with specified attributes.
!      *
!      * @param user the object describing account to be created.
!      * @param password The password to use for the object creation
!      *
!      * @throws DataBackendException if there was an error accessing the data backend.
!      * @throws EntityExistsException if the user account already exists.
!      */
!     public User addUser(User user, String password) throws EntityExistsException, DataBackendException;
!     /**
!      * Removes an user account from the system.
!      *
!      * @param user the object describing the account to be removed.
!      * @throws DataBackendException if there was an error accessing the data backend.
!      * @throws UnknownEntityException if the user account is not present.
!      */
!     void removeUser(User user) throws UnknownEntityException, DataBackendException;
!     /**
!      * Change the password for an User.
!      *
!      * @param user an User to change password for.
!      * @param oldPassword the current password suplied by the user.
!      * @param newPassword the current password requested by the user.
!      * @exception PasswordMismatchException if the supplied password was
!      *            incorrect.
!      * @exception UnknownEntityException if the user's record does not
!      *            exist in the database.
!      * @exception DataBackendException if there is a problem accessing the
!      *            storage.
!      * @throws PasswordHistoryException 
!      * @throws UserLockedException 
!      * @throws PasswordExpiredException 
!      */
!     void changePassword(User user, String oldPassword, String newPassword)
!         throws PasswordMismatchException, UnknownEntityException,
! 			DataBackendException, PasswordHistoryException, UserLockedException;
!     /**
!      * Forcibly sets new password for an User.
!      *
!      * This is supposed by the administrator to change the forgotten or
!      * compromised passwords. Certain implementatations of this feature
!      * would require administrative level access to the authenticating
!      * server / program.
!      *
!      * @param user an User to change password for.
!      * @param password the new password.
!      * @exception UnknownEntityException if the user's record does not
!      *            exist in the database.
!      * @exception DataBackendException if there is a problem accessing the
!      *            storage.
!      * @throws PasswordHistoryException 
!      */
!     void forcePassword(User user, String password) throws UnknownEntityException, DataBackendException, PasswordHistoryException;
!     
!     /**
!        * Return a Class object representing the system's chosen implementation of
!        * of ACL interface.
!        *
!        * @return systems's chosen implementation of ACL interface.
!        * @throws UnknownEntityException if the implementation of ACL interface
!        *         could not be determined, or does not exist.
!        */
!     public AccessControlList getACL(User user) throws UnknownEntityException;
!     
!     /**
!      * 
!      * @return
!      *
!      * @author richard.brooks
!      * Created on Jan 11, 2006
!      */
  	Authenticator getAuthenticator();
! 	
  	/**
  	 * 
  	 * @param authenticator
! 	 *
! 	 * @author richard.brooks
! 	 * Created on Jan 11, 2006
  	 */
  	void setAuthenticator(Authenticator authenticator);
- 
- 
-     
  }
--- 28,317 ----
  import org.apache.fulcrum.security.util.UserLockedException;
  import org.apache.fulcrum.security.util.UserSet;
+ 
  /**
!  * An UserManager performs {@link org.apache.fulcrum.security.entity.User}
!  * objects related tasks on behalf of the
!  * {@link org.apache.fulcrum.security.BaseSecurityService}.
!  * 
   * The responsibilities of this class include loading data of an user from the
!  * storage and putting them into the
!  * {@link org.apache.fulcrum.security.entity.User} objects, saving those data to
!  * the permanent storage, and authenticating users.
!  * 
   * @author &lt;a href=&quot;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/zebra-checkins">epugh at upstate.com</A>&quot;&gt;Eric Pugh&lt;/a&gt;
   * @author &lt;a href=&quot;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/zebra-checkins">Rafal.Krzewski at e-point.pl</A>&quot;&gt;Rafal Krzewski&lt;/a&gt;
   * @version $Id$
   */
! public interface UserManager {
  	/**
! 	 * Construct a blank User object.
! 	 * 
! 	 * This method calls getUserClass, and then creates a new object using the
! 	 * default constructor.
! 	 * 
! 	 * @return an object implementing User interface.
! 	 * @throws DataBackendException
! 	 *             if the object could not be instantiated.
! 	 */
! 	User getUserInstance() throws DataBackendException;
  
! 	/**
! 	 * Construct a blank User object.
! 	 * 
! 	 * This method calls getUserClass, and then creates a new object using the
! 	 * default constructor.
! 	 * 
! 	 * @param userName
! 	 *            The name of the user.
! 	 * 
! 	 * @return an object implementing User interface.
! 	 * @throws DataBackendException
! 	 *             if the object could not be instantiated.
! 	 */
! 	User getUserInstance(String userName) throws DataBackendException;
  
  	/**
! 	 * Determines if the &lt;code&gt;User&lt;/code&gt; exists in the security system.
! 	 * 
! 	 * @param role
! 	 *            a &lt;code&gt;User&lt;/code&gt; value
! 	 * @return true if the user exists in the system, false otherwise
! 	 * @throws DataBackendException
! 	 *             when more than one user with the same name exists.
! 	 * @throws Exception
! 	 *             A generic exception.
! 	 */
! 	boolean checkExists(User user) throws DataBackendException;
! 
! 	/**
! 	 * Check whether a specified user's account exists.
! 	 * 
! 	 * The login name is used for looking up the account.
! 	 * 
! 	 * @param userName
! 	 *            The name of the user to be checked.
! 	 * @return true if the specified account exists
! 	 * @throws DataBackendException
! 	 *             if there was an error accessing the data backend.
! 	 */
! 	boolean checkExists(String userName) throws DataBackendException;
! 
! 	/**
! 	 * Retrieve a user from persistent storage using username as the key.
! 	 * 
! 	 * @param username
! 	 *            the name of the user.
! 	 * @return an User object.
! 	 * @exception UnknownEntityException
! 	 *                if the user's record does not exist in the database.
! 	 * @exception DataBackendException
! 	 *                if there is a problem accessing the storage.
! 	 */
! 	User getUser(String username) throws UnknownEntityException,
! 			DataBackendException, EntityDisabledException;
! 
! 	/**
! 	 * Retrieve a user from persistent storage using the id as the key.
! 	 * 
! 	 * @param id
! 	 *            the id of the user.
! 	 * @return an User object.
! 	 * @exception UnknownEntityException
! 	 *                if the user's record does not exist in the database.
! 	 * @exception DataBackendException
! 	 *                if there is a problem accessing the storage.
! 	 */
! 	User getUserById(Object id) throws UnknownEntityException,
! 			DataBackendException, EntityDisabledException;
! 
! 	/**
! 	 * Retrieve a user from persistent storage using username as the key, and
! 	 * authenticate the user. The implementation may chose to authenticate to
! 	 * the server as the user whose data is being retrieved.
! 	 * 
! 	 * @param username
! 	 *            the name of the user.
! 	 * @param password
! 	 *            the user supplied password.
! 	 * @return an User object.
! 	 * @exception PasswordMismatchException
! 	 *                if the supplied password was incorrect.
! 	 * @exception UnknownEntityException
! 	 *                if the user's record does not exist in the database.
! 	 * @exception DataBackendException
! 	 *                if there is a problem accessing the storage.
! 	 * @throws UserLockedException
! 	 * @throws PasswordExpiredException
! 	 */
! 	User getUser(String username, String password)
! 			throws PasswordMismatchException, UnknownEntityException,
! 			DataBackendException, UserLockedException,
! 			PasswordExpiredException, EntityDisabledException;
! 
! 	/**
! 	 * Retrieves all users defined in the system.
! 	 * 
! 	 * @return the names of all users defined in the system.
! 	 * @throws DataBackendException
! 	 *             if there was an error accessing the data backend.
! 	 */
! 	UserSet getAllUsers() throws DataBackendException;
! 
! 	/**
! 	 * Retrieves all non-disabled users defined in the system.
! 	 * 
! 	 * @return the names of all non-disabled users defined in the system.
! 	 * @throws DataBackendException
! 	 *             if there was an error accessing the data backend.
! 	 */
! 	UserSet getUsers() throws DataBackendException;
! 
! 	/**
! 	 * Saves User's data in the permanent storage. The user account is required
! 	 * to exist in the storage.
! 	 * 
! 	 * @param user
! 	 *            the user object to save
! 	 * @throws DataBackendException
! 	 *             if there is a problem accessing the storage.
! 	 */
! 	void saveUser(User user) throws DataBackendException;
! 
! 	/**
! 	 * Authenticate an User with the specified password. If authentication is
! 	 * successful the method returns nothing. If there are any problems,
! 	 * exception was thrown.
! 	 * 
! 	 * @param user
! 	 *            an User object to authenticate.
! 	 * @param password
! 	 *            the user supplied password.
! 	 * @exception PasswordMismatchException
! 	 *                if the supplied password was incorrect.
! 	 * @exception UnknownEntityException
! 	 *                if the user's record does not exist in the database.
! 	 * @exception DataBackendException
! 	 *                if there is a problem accessing the storage.
! 	 * @throws UserLockedException
! 	 * @throws PasswordExpiredException
! 	 */
! 	void authenticate(User user, String password)
! 			throws PasswordMismatchException, UnknownEntityException,
! 			DataBackendException, UserLockedException, EntityDisabledException;
! 
! 	/**
! 	 * Creates new user account with specified attributes.
! 	 * 
! 	 * @param user
! 	 *            the object describing account to be created.
! 	 * @param password
! 	 *            The password to use for the object creation
! 	 * 
! 	 * @throws DataBackendException
! 	 *             if there was an error accessing the data backend.
! 	 * @throws EntityExistsException
! 	 *             if the user account already exists.
! 	 */
! 	public User addUser(User user, String password)
! 			throws EntityExistsException, DataBackendException;
! 
! 	/**
! 	 * Removes a user account from the system.
! 	 * 
! 	 * @param user
! 	 *            the object describing the account to be removed.
! 	 * @throws DataBackendException
! 	 *             if there was an error accessing the data backend.
! 	 * @throws UnknownEntityException
! 	 *             if the user account is not present.
! 	 */
! 	void removeUser(User user) throws UnknownEntityException,
! 			DataBackendException;
! 
! 	/**
! 	 * Disables a user (effectively rendering it as removed but without actually
! 	 * removing it).
! 	 * 
! 	 * @param user
! 	 *            the object describing the account to be disabled.
! 	 * @throws DataBackendException
! 	 *             if there was an error accessing the data backend.
! 	 * @throws UnknownEntityException
! 	 *             if the user account is not present.
! 	 */
! 	void disableUser(User user) throws UnknownEntityException,
! 			DataBackendException;
! 
! 	/**
! 	 * Change the password for an User.
! 	 * 
! 	 * @param user
! 	 *            an User to change password for.
! 	 * @param oldPassword
! 	 *            the current password suplied by the user.
! 	 * @param newPassword
! 	 *            the current password requested by the user.
! 	 * @exception PasswordMismatchException
! 	 *                if the supplied password was incorrect.
! 	 * @exception UnknownEntityException
! 	 *                if the user's record does not exist in the database.
! 	 * @exception DataBackendException
! 	 *                if there is a problem accessing the storage.
! 	 * @throws PasswordHistoryException
! 	 * @throws UserLockedException
! 	 * @throws PasswordExpiredException
! 	 */
! 	void changePassword(User user, String oldPassword, String newPassword)
! 			throws PasswordMismatchException, UnknownEntityException,
! 			DataBackendException, PasswordHistoryException,
! 			UserLockedException, EntityDisabledException;
! 
! 	/**
! 	 * Forcibly sets new password for an User.
! 	 * 
! 	 * This is supposed by the administrator to change the forgotten or
! 	 * compromised passwords. Certain implementatations of this feature would
! 	 * require administrative level access to the authenticating server /
! 	 * program.
! 	 * 
! 	 * @param user
! 	 *            an User to change password for.
! 	 * @param password
! 	 *            the new password.
! 	 * @exception UnknownEntityException
! 	 *                if the user's record does not exist in the database.
! 	 * @exception DataBackendException
! 	 *                if there is a problem accessing the storage.
! 	 * @throws PasswordHistoryException
! 	 */
! 	void forcePassword(User user, String password)
! 			throws UnknownEntityException, DataBackendException,
! 			PasswordHistoryException;
! 
! 	/**
! 	 * Return a Class object representing the system's chosen implementation of
! 	 * of ACL interface.
! 	 * 
! 	 * @return systems's chosen implementation of ACL interface.
! 	 * @throws UnknownEntityException
! 	 *             if the implementation of ACL interface could not be
! 	 *             determined, or does not exist.
! 	 */
! 	public AccessControlList getACL(User user) throws UnknownEntityException;
! 
! 	/**
! 	 * 
! 	 * @return
! 	 * 
! 	 * @author richard.brooks Created on Jan 11, 2006
! 	 */
  	Authenticator getAuthenticator();
! 
  	/**
  	 * 
  	 * @param authenticator
! 	 * 
! 	 * @author richard.brooks Created on Jan 11, 2006
  	 */
  	void setAuthenticator(Authenticator authenticator);
  }

Index: GroupManager.java
===================================================================
RCS file: /cvsroot/zebra/zebra/src/java/fulcrum-security-hivemind/src/main/java/org/apache/fulcrum/security/GroupManager.java,v
retrieving revision 1.1
retrieving revision 1.2
diff -C2 -d -r1.1 -r1.2
*** GroupManager.java	14 Nov 2005 18:20:47 -0000	1.1
--- GroupManager.java	18 Mar 2006 16:19:38 -0000	1.2
***************
*** 1,3 ****
--- 1,4 ----
  package org.apache.fulcrum.security;
+ 
  /*
   *  Copyright 2001-2004 The Apache Software Foundation
***************
*** 17,153 ****
  import org.apache.fulcrum.security.entity.Group;
  import org.apache.fulcrum.security.util.DataBackendException;
  import org.apache.fulcrum.security.util.EntityExistsException;
  import org.apache.fulcrum.security.util.GroupSet;
  import org.apache.fulcrum.security.util.UnknownEntityException;
  /**
!  * An GroupManager performs {@link org.apache.fulcrum.security.entity.Group} objects
!  * related tasks on behalf of the {@link org.apache.fulcrum.security.BaseSecurityService}.
!  *
   * The responsibilities of this class include loading data of an group from the
!  * storage and putting them into the {@link org.apache.fulcrum.security.entity.Group} objects,
!  * saving those data to the permanent storage.
!  *
   * @author &lt;a href=&quot;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/zebra-checkins">epugh at upstate.com</A>&quot;&gt;Eric Pugh&lt;/a&gt;
   * @version $Id$
   */
! public interface GroupManager
! {
!     /**
!      * Construct a blank Group object.
!      *
!      * This method calls getGroupClass, and then creates a new object using
!      * the default constructor.
!      *
!      * @return an object implementing Group interface.
!      * @throws DataBackendException if the object could not be instantiated.
!      */
!     Group getGroupInstance() throws DataBackendException;
!     /**
!      * Construct a blank Group object.
!      *
!      * This method calls getGroupClass, and then creates a new object using
!      * the default constructor.
!      *
!      * @param groupName The name of the Group
!      *
!      * @return an object implementing Group interface.
!      * @throws DataBackendException if the object could not be instantiated.
!      */
!     Group getGroupInstance(String groupName) throws DataBackendException;
!     /**
!     	* Retrieve a Group object with specified name.
!     	*
!     	* @param name the name of the Group.
!     	* @return an object representing the Group with specified name.
!     	* @throws DataBackendException if there was an error accessing the data
!     	*         backend.
!     	* @throws UnknownEntityException if the group does not exist.
!     	*/
!     Group getGroupByName(String name) throws DataBackendException, UnknownEntityException;
!    
!     /**
! 	* Retrieve a Group object with specified Id.
! 	*
! 	* @param name the name of the Group.
! 	*
! 	* @return an object representing the Group with specified name.
! 	*
! 	* @exception UnknownEntityException if the permission does not
! 	*            exist in the database.
! 	* @exception DataBackendException if there is a problem accessing the
! 	*            storage.
! 	*/
!     Group getGroupById(Object id) throws DataBackendException, UnknownEntityException;
!     
! 	 
! 			
  	/**
  	 * Renames an existing Group.
! 	 *
! 	 * @param group The object describing the group to be renamed.
! 	 * @param name the new name for the group.
! 	 * @throws DataBackendException if there was an error accessing the data
! 	 *         backend.
! 	 * @throws UnknownEntityException if the group does not exist.
  	 */
! 	void renameGroup(Group group, String name)
! 			throws DataBackendException, UnknownEntityException;	
! 			
  	/**
! 	   * Removes a Group from the system.
! 	   *
! 	   * @param group The object describing the group to be removed.
! 	   * @throws DataBackendException if there was an error accessing the data
! 	   *         backend.
! 	   * @throws UnknownEntityException if the group does not exist.
! 	   */
! 	  void removeGroup(Group group)
! 			  throws DataBackendException, UnknownEntityException;
! 			  
  	/**
! 	   * Creates a new group with specified attributes.
! 	   *
! 	   * @param group the object describing the group to be created.
! 	   * @return the new Group object.
! 	   * @throws DataBackendException if there was an error accessing the data
! 	   *         backend.
! 	   * @throws EntityExistsException if the group already exists.
! 	   */
! 	  Group addGroup(Group group)
! 			  throws DataBackendException, EntityExistsException;
! 			  
  	/**
! 	   * Retrieves all groups defined in the system.
! 	   *
! 	   * @return the names of all groups defined in the system.
! 	   * @throws DataBackendException if there was an error accessing the data
! 	   *         backend.
! 	   */
! 	  GroupSet getAllGroups()
! 			  throws DataBackendException;
! 			  
  	/**
! 		   * Determines if the &lt;code&gt;Group&lt;/code&gt; exists in the security system.
! 		   *
! 		   * @param permission a &lt;code&gt;Group&lt;/code&gt; value
! 		   * @return true if the group exists in the system, false otherwise
! 		   * @throws DataBackendException when more than one group with
! 		   *         the same name exists.
! 		   * @throws Exception A generic exception.
! 		   */
! 		public boolean checkExists(Group group) throws DataBackendException;	
! 		
! 		/**
! 		 * Determines if a &lt;code&gt;Group&lt;/code&gt; exists in the security system
! 		 * with the specified name.
! 		 * 
! 		 * @param groupName the name of a &lt;code&gt;Group&lt;/code&gt; to check.
! 		 * @return true if the group exists in the system, false otherwise
! 		 * @throws DataBackendException
! 		 *             when more than one group with the same name exists.
! 		 * @throws Exception
! 		 *             A generic exception.
! 		 */
! 		public boolean checkExists(String group) throws DataBackendException;		
! 			  
  }
--- 18,197 ----
  import org.apache.fulcrum.security.entity.Group;
  import org.apache.fulcrum.security.util.DataBackendException;
+ import org.apache.fulcrum.security.util.EntityDisabledException;
  import org.apache.fulcrum.security.util.EntityExistsException;
  import org.apache.fulcrum.security.util.GroupSet;
  import org.apache.fulcrum.security.util.UnknownEntityException;
+ 
  /**
!  * An GroupManager performs {@link org.apache.fulcrum.security.entity.Group}
!  * objects related tasks on behalf of the
!  * {@link org.apache.fulcrum.security.BaseSecurityService}.
!  * 
   * The responsibilities of this class include loading data of an group from the
!  * storage and putting them into the
!  * {@link org.apache.fulcrum.security.entity.Group} objects, saving those data
!  * to the permanent storage.
!  * 
   * @author &lt;a href=&quot;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/zebra-checkins">epugh at upstate.com</A>&quot;&gt;Eric Pugh&lt;/a&gt;
   * @version $Id$
   */
! public interface GroupManager {
! 	/**
! 	 * Construct a blank Group object.
! 	 * 
! 	 * This method calls getGroupClass, and then creates a new object using the
! 	 * default constructor.
! 	 * 
! 	 * @return an object implementing Group interface.
! 	 * @throws DataBackendException
! 	 *             if the object could not be instantiated.
! 	 */
! 	Group getGroupInstance() throws DataBackendException;
! 
! 	/**
! 	 * Construct a blank Group object.
! 	 * 
! 	 * This method calls getGroupClass, and then creates a new object using the
! 	 * default constructor.
! 	 * 
! 	 * @param groupName
! 	 *            The name of the Group
! 	 * 
! 	 * @return an object implementing Group interface.
! 	 * @throws DataBackendException
! 	 *             if the object could not be instantiated.
! 	 */
! 	Group getGroupInstance(String groupName) throws DataBackendException;
! 
! 	/**
! 	 * Retrieve a Group object with specified name.
! 	 * 
! 	 * @param name
! 	 *            the name of the Group.
! 	 * @return an object representing the Group with specified name.
! 	 * @throws DataBackendException
! 	 *             if there was an error accessing the data backend.
! 	 * @throws UnknownEntityException
! 	 *             if the group does not exist.
! 	 */
! 	Group getGroupByName(String name) throws DataBackendException,
! 			UnknownEntityException, EntityDisabledException;
! 
! 	/**
! 	 * Retrieve a Group object with specified Id.
! 	 * 
! 	 * @param name
! 	 *            the name of the Group.
! 	 * 
! 	 * @return an object representing the Group with specified name.
! 	 * 
! 	 * @exception UnknownEntityException
! 	 *                if the permission does not exist in the database.
! 	 * @exception DataBackendException
! 	 *                if there is a problem accessing the storage.
! 	 */
! 	Group getGroupById(Object id) throws DataBackendException,
! 			UnknownEntityException, EntityDisabledException;
! 
  	/**
  	 * Renames an existing Group.
! 	 * 
! 	 * @param group
! 	 *            The object describing the group to be renamed.
! 	 * @param name
! 	 *            the new name for the group.
! 	 * @throws DataBackendException
! 	 *             if there was an error accessing the data backend.
! 	 * @throws UnknownEntityException
! 	 *             if the group does not exist.
  	 */
! 	void renameGroup(Group group, String name) throws DataBackendException,
! 			UnknownEntityException;
! 
  	/**
! 	 * Removes a Group from the system.
! 	 * 
! 	 * @param group
! 	 *            The object describing the group to be removed.
! 	 * @throws DataBackendException
! 	 *             if there was an error accessing the data backend.
! 	 * @throws UnknownEntityException
! 	 *             if the group does not exist.
! 	 */
! 	void removeGroup(Group group) throws DataBackendException,
! 			UnknownEntityException;
! 
  	/**
! 	 * Disables a Group (effectively rendering it as removed, but without
! 	 * actually removing it).
! 	 * 
! 	 * @param group
! 	 *            The object describing the group to be disabled.
! 	 * @throws DataBackendException
! 	 *             if there was an error accessing the data backend.
! 	 * @throws UnknownEntityException
! 	 *             if the group does not exist.
! 	 */
! 	void disableGroup(Group group) throws DataBackendException,
! 			UnknownEntityException;
! 
  	/**
! 	 * Creates a new group with specified attributes.
! 	 * 
! 	 * @param group
! 	 *            the object describing the group to be created.
! 	 * @return the new Group object.
! 	 * @throws DataBackendException
! 	 *             if there was an error accessing the data backend.
! 	 * @throws EntityExistsException
! 	 *             if the group already exists.
! 	 */
! 	Group addGroup(Group group) throws DataBackendException,
! 			EntityExistsException;
! 
  	/**
! 	 * Retrieves all groups defined in the system.
! 	 * 
! 	 * @return the names of all groups defined in the system.
! 	 * @throws DataBackendException
! 	 *             if there was an error accessing the data backend.
! 	 */
! 	GroupSet getAllGroups() throws DataBackendException;
! 
! 	/**
! 	 * Retrieves all non-disabled groups defined in the system.
! 	 * 
! 	 * @return the names of all non-disabled groups defined in the system.
! 	 * @throws DataBackendException
! 	 *             if there was an error accessing the data backend.
! 	 */
! 	GroupSet getGroups() throws DataBackendException;
! 
! 	/**
! 	 * Determines if the &lt;code&gt;Group&lt;/code&gt; exists in the security system.
! 	 * 
! 	 * @param permission
! 	 *            a &lt;code&gt;Group&lt;/code&gt; value
! 	 * @return true if the group exists in the system, false otherwise
! 	 * @throws DataBackendException
! 	 *             when more than one group with the same name exists.
! 	 * @throws Exception
! 	 *             A generic exception.
! 	 */
! 	public boolean checkExists(Group group) throws DataBackendException;
! 
! 	/**
! 	 * Determines if a &lt;code&gt;Group&lt;/code&gt; exists in the security system with
! 	 * the specified name.
! 	 * 
! 	 * @param groupName
! 	 *            the name of a &lt;code&gt;Group&lt;/code&gt; to check.
! 	 * @return true if the group exists in the system, false otherwise
! 	 * @throws DataBackendException
! 	 *             when more than one group with the same name exists.
! 	 * @throws Exception
! 	 *             A generic exception.
! 	 */
! 	public boolean checkExists(String group) throws DataBackendException;
! 
  }


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000301.html">[Zebra-checkins] zebra/src/java/fulcrum-security-hivemind/.settings org.eclipse.wst.common.project.facet.core.xml,NONE,1.1 .component,NONE,1.1 org.eclipse.jdt.core.prefs,1.2,1.3
</A></li>
	<LI>Next message: <A HREF="000295.html">[Zebra-checkins] zebra/src/java/fulcrum-security-hivemind/src/main/java/org/apache/fulcrum/security/authenticator CryptoAuthenticator.java,1.3,1.4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#341">[ date ]</a>
              <a href="thread.html#341">[ thread ]</a>
              <a href="subject.html#341">[ subject ]</a>
              <a href="author.html#341">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/zebra-checkins">More information about the Zebra-checkins
mailing list</a><br>
</body></html>
